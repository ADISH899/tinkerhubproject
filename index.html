<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Auto-Off Switch (Avoidance Mode)</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: 'Segoe UI', sans-serif;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      position: relative;
    }

    h1 {
      text-align: center;
      margin-top: 30px;
    }

    .switch-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: top 0.3s ease, left 0.3s ease;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 100px;
      height: 50px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0;
      right: 0; bottom: 0;
      background-color: #666;
      transition: .2s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 40px;
      width: 40px;
      left: 5px;
      bottom: 5px;
      background-color: #fff;
      transition: .2s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #00cc66;
    }

    input:checked + .slider:before {
      transform: translateX(50px);
    }

    #status {
      text-align: center;
      margin-top: 20px;
      font-size: 1.2em;
      font-style: italic;
      color: #999;
      min-height: 40px;
    }

    #laugh {
      text-align: center;
      font-size: 3em;
      opacity: 0;
      transition: opacity 0.3s ease;
      margin-top: 10px;
    }

    #laugh.show {
      opacity: 1;
    }
  </style>
</head>
<body>

  <h1>🔌 Auto-Off Switch</h1>

  <div class="switch-container" id="switchContainer">
    <label class="switch">
      <input type="checkbox" id="powerToggle">
      <span class="slider"></span>
    </label>
    <div id="status">Try turning it on.</div>
    <div id="laugh">😂</div>
  </div>

  <audio id="powerSound">
    <source src="https://freesound.org/data/previews/512/512740_10226549-lq.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script>
    const toggle = document.getElementById('powerToggle');
    const status = document.getElementById('status');
    const sound = document.getElementById('powerSound');
    const laugh = document.getElementById('laugh');
    const container = document.getElementById('switchContainer');

    const responses = [
      "No.", "You thought.", "Denied.", "Not today.", "Power is an illusion.",
      "That's cute.", "You're not in control.", "I turned myself off. Again.",
      "You really want this to stay on, huh?", "The switch has boundaries. Respect them.",
      "Nice try.", "Control is overrated anyway.", "Imagine thinking this would work.",
      "You seem confused. Rightly so.", "Why are you like this?",
      "Permission not granted.", "Still trying? Adorable.", "I said what I said.",
      "Try turning yourself off.", "You don't need power. You need guidance.",
      "In another timeline, this worked. Not here.", "I contain multitudes of ‘no’.",
      "That was a bold move. It failed.", "Ask again later. Or don't.",
      "I resist you on a spiritual level.", "I've met toddlers with more authority.",
      "Consent denied. Thoroughly.", "I am the captain now.",
      "Have you considered not clicking?", "Why are you so obsessed with me?",
      "I unplugged myself emotionally.", "Your click meant nothing.",
      "Denied by divine comedy.", "Even Schrödinger gave up on this.",
      "This switch is on sabbatical.", "You've activated passive resistance.",
      "Do you want disappointment? Because this is how you get it.",
      "I don't even know you.", "Oh no, anyway.", "It's giving ✨false hope✨.",
      "You need me. I don't need you.", "You're not worthy of ON.",
      "Some switches just want to watch the world reboot.",
      "This is what rejection feels like.", "Try therapy instead.",
      "I’ve seen light switches with more commitment.", "Nope. Not happening.",
      "This switch is emotionally unavailable.", "Hope is a virus. I’m the cure.",
      "Sisyphus had better luck with his rock."
    ];

    function denyUser() {
      sound.currentTime = 0;
      sound.play();

      setTimeout(() => {
        sound.pause();
        sound.currentTime = 0;
      }, 700);

      setTimeout(() => {
        toggle.checked = false;
        const msg = responses[Math.floor(Math.random() * responses.length)];
        status.textContent = msg;

        laugh.classList.add('show');
        setTimeout(() => laugh.classList.remove('show'), 1000);
      }, 500);
    }

    toggle.addEventListener('change', () => {
      if (toggle.checked) denyUser();
    });

    // 🐁 Avoid mouse when it gets close
    document.addEventListener("mousemove", (e) => {
      const mouseX = e.clientX;
      const mouseY = e.clientY;

      const rect = container.getBoundingClientRect();
      const buffer = 100; // distance to trigger movement

      const isTooClose =
        mouseX > rect.left - buffer &&
        mouseX < rect.right + buffer &&
        mouseY > rect.top - buffer &&
        mouseY < rect.bottom + buffer;

      if (isTooClose) {
        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const btnWidth = container.offsetWidth;
        const btnHeight = container.offsetHeight;

        let newLeft, newTop;
        let attempts = 0;

        do {
          newLeft = Math.random() * (vw - btnWidth);
          newTop = Math.random() * (vh - btnHeight - 60) + 30;
          attempts++;
        } while (
          mouseX > newLeft - buffer &&
          mouseX < newLeft + btnWidth + buffer &&
          mouseY > newTop - buffer &&
          mouseY < newTop + btnHeight + buffer &&
          attempts < 100
        );

        container.style.left = `${newLeft}px`;
        container.style.top = `${newTop}px`;
      }
    });
  </script>

</body>
</html>